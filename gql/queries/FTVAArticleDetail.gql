#import "../gql/fragments/Image.gql"
#import "../gql/fragments/collections/AllFtvaFpb.gql"

query FTVAArticleDetail($slug: [String!]) {
  ftvaArticle: entry(section: "ftvaArticle", slug: $slug)  {
    id
    typeHandle
    postDate
    title
    slug
    uri

    imageCarousel {
      ... on imageCarousel_imageCarousel_BlockType {
        image {
          ...Image
        }
        creditText
      }
    }

    # CardMeta
    articleCategories {
      title
    }
    contributors {
      ... on contributors_externalContributor_BlockType {
        byline
        contributor
      }
      externalContributor {
        id
        byline
        contributor
      }
    }
    aboutTheAuthor

    # FTVA Flexible Page Block Collection (FPBs)
    ...AllFtvaFpb

    # SectionTeaserCard (Recent posts)
    ftvaRecentPosts: entries( section: "ftvaArticle", limit: 3, orderBy: "postDate ASC") {
      id
      title
      id
      articleCategories {
        title
      }
      imageCarousel {
        ... on imageCarousel_imageCarousel_BlockType {
          image {
            ...Image
          }
        }
      }
      postDate @formatDateTime(format: "mm d, Y", timezone: "America/Los_Angeles")
    }
  }
}
